{% load i18n %}

{% if queue_orders %}
<div class="queue-order-list">
    {% for order in queue_orders %}
    <div class="queue-item {% if order.status == 'in_progress' %}in-progress{% endif %}"
         data-order-id="{{ order.order_id }}">
        <div class="drag-handle" title="{% trans 'Drag to reorder' %}">â ¿</div>
        <div class="queue-position">{{ order.queue_position }}</div>
        <div class="order-info">
            <span class="order-code">{{ order.order_code }}</span>
            <span class="item-count">{{ order.item_count }} {% trans "items" %}</span>
        </div>
        {% if order.notes %}
        <span class="order-notes-icon" title="{{ order.notes }}">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                <path d="M14 2v6h6M16 13H8m8 4H8m2-8H8"/>
            </svg>
        </span>
        {% endif %}
        <div class="order-status">
            {% if order.status == 'in_progress' %}
            <span class="status-badge in-progress">{% trans "In Progress" %}</span>
            {% if order.picked_by %}
            <span class="picker-name" title="{% trans 'Picked by' %}">{{ order.picked_by }}</span>
            {% endif %}
            {% else %}
            <span class="status-badge queued">{% trans "Queued" %}</span>
            {% endif %}
        </div>
        <div class="order-actions">
            {% if order.status == 'in_progress' %}
            <button class="btn-unlock" onclick="unlockOrder({{ order.order_id }})" title="{% trans 'Unlock order' %}">ðŸ”“</button>
            {% endif %}
            <button class="btn-move" onclick="moveOrder({{ order.order_id }}, 'up')" title="{% trans 'Move up' %}">â–²</button>
            <button class="btn-move" onclick="moveOrder({{ order.order_id }}, 'down')" title="{% trans 'Move down' %}">â–¼</button>
            <button class="btn-remove" onclick="removeFromQueue({{ order.order_id }})" title="{% trans 'Remove from queue' %}">âœ•</button>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state small">
    <svg class="empty-state-icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M4 6h16M4 12h16M4 18h10"/>
    </svg>
    <p>{% trans "Queue is empty" %}</p>
    <p class="text-muted">{% trans "Add orders from the available list" %}</p>
</div>
{% endif %}
